#!/usr/bin/env node

const fs = require("fs");
const path = require("path");

console.log("üöÄ Setting up local environment for The11EximOverSeas...\n");

// Frontend environment variables
const frontendEnv = `# Frontend Environment Variables for Local Development
# Generated by setup-local-env.js

# API Configuration
VITE_API_URL=http://localhost:5000/api
VITE_APP_NAME=TrustGlobalExports
VITE_APP_VERSION=1.0.0

# Contact Information
VITE_CONTACT_EMAIL=trustglobalexports@gmail.com
VITE_CONTACT_PHONE_PRIMARY=+91 9xxxxxxxxx
VITE_CONTACT_PHONE_SECONDARY=+91 9xxxxxxxxx

# Feature Flags
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_DEBUG=true

# Security
VITE_CSP_NONCE=

# Google Maps
VITE_GOOGLE_MAPS_API_KEY=API_KEY
`;

// Backend environment variables
const backendEnv = `# Backend Environment Variables for Local Development
# Generated by setup-local-env.js

# Server Configuration
NODE_ENV=development
PORT=5000

# Database
MONGODB_URI=mongodb://localhost:27017/the11eximoverseas

# Email Configuration
SMTP_USER=the11eximoverseas@gmail.com
SMTP_PASS=your-gmail-app-password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
ADMIN_EMAIL=the11eximoverseas@gmail.com

# CORS
CORS_ORIGIN=http://localhost:5173

# Security
JWT_SECRET=your-jwt-secret-here

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
`;

try {
  // Create frontend .env.local
  fs.writeFileSync(".env.local", frontendEnv);
  console.log("‚úÖ Created .env.local for frontend");

  // Create backend .env
  fs.writeFileSync("backend/.env", backendEnv);
  console.log("‚úÖ Created backend/.env for backend");

  console.log("\nüìù Next steps:");
  console.log(
    "1. Update backend/.env with your MongoDB URI and Gmail app password"
  );
  console.log('2. Run "npm install" to install frontend dependencies');
  console.log(
    '3. Run "cd backend && npm install" to install backend dependencies'
  );
  console.log('4. Start frontend: "npm run dev"');
  console.log('5. Start backend: "cd backend && npm start"');
  console.log("\nüéâ Setup complete!");
} catch (error) {
  console.error("‚ùå Error setting up environment files:", error.message);
  process.exit(1);
}
